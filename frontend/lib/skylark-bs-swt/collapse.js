/**
 * skylark-bs-swt - The skylark bootstrap standard widget tookit
 * @author Hudaokeji, Inc.
 * @version v0.9.0-beta
 * @link https://github.com/skylarkui/skylark-bs-swt/
 * @license MIT
 */
define(["skylark-utils/langx","skylark-utils/browser","skylark-utils/eventer","skylark-utils/noder","skylark-utils/geom","skylark-utils/velm","skylark-utils/query","./sbswt"],function(t,e,s,a,i,n,l,r){"use strict";function o(t){var e,s=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return l(s)}function h(e){return this.each(function(){var s=l(this),a=s.data("bs.collapse"),i=t.mixin({},d.DEFAULTS,s.data(),"object"==typeof e&&e);!a&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),a||s.data("bs.collapse",a=new d(this,i)),"string"==typeof e&&a[e]()})}var d=r.Collapse=r.WidgetBase.inherit({klassName:"Collapse",init:function(e,s){this.$element=l(e),this.options=t.mixin({},d.DEFAULTS,s),this.$trigger=l('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle(),this.$element.on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=l(this);e.attr("data-target")||t.preventDefault();var s=o(e),a=s.data("bs.collapse"),i=a?"toggle":e.data();h.call(s,i)})},dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(a=i.data("bs.collapse"),a&&a.transitioning))){var n=s.create("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){i&&i.length&&(h.call(i,"hide"),a||i.data("bs.collapse",null));var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var o=t.camelCase(["scroll",l].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[l](this.$element[0][o])}}}},hide:function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=s.create("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(d.TRANSITION_DURATION):n.call(this)}}},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()},getParent:function(){return l(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(t,e){var s=l(e);this.addAriaAndCollapsedClass(o(s),s)},this)).end()},addAriaAndCollapsedClass:function(t,e){var s=t.hasClass("in");t.attr("aria-expanded",s),e.toggleClass("collapsed",!s).attr("aria-expanded",s)}});d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0};var p=l.fn.collapse;return l.fn.collapse=h,l.fn.collapse.Constructor=d,l.fn.collapse.noConflict=function(){return l.fn.collapse=p,this},l.fn.collapse});
//# sourceMappingURL=sourcemaps/collapse.js.map
